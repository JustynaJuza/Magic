@using Magic.Hubs;
@using Microsoft.AspNet.Identity

<div id="user-list-overlay"></div>
<div id="user-list-add-member-container" style="overflow: auto; height: 220px;">
    <ul id="user-list-add-member">
        <li class="chat-user" />
    </ul>
</div>

<div class="chat container">

    <h3>
        Hello@{ if (Request.IsAuthenticated)
         { <span id=user-name>@User.Identity.GetUserName()</span>} }!
    </h3>

    <input id="chat-room-selection" class="btn btn-primary" type="hidden" value="default" />

    <div id="chat-room-container">
        @foreach (var chatRoom in ChatHub.GetUserChatRooms(User.Identity.GetUserId())) {
            Html.RenderAction("GetChatRoomPartial", "Chat", new { roomId = chatRoom.Id });
        }
    </div>

    <div class="chat-message-new-container container">
        <input class="chat-message-new form-control" type="text" />
        <input class="chat-message-new-btn-send btn btn-primary" type="button" value="Send" />
    </div>
</div>

@*----------------------------------------------------- SCRIPT -----------------------------------------------------*@
@Scripts.Render("~/bundles/jquerysignalR")
@Scripts.Render("~/signalr/hubs")
@Scripts.Render("~/Scripts/_chat.js")
@*@Scripts.Render("~/Scripts/_hub-start.js")*@
